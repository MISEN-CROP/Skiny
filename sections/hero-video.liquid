{{ 'banner.css' | asset_url | stylesheet_tag }}

<div class="hb-banner video_show_right_side_mobile_wrapper">
  <div class="container-hero-video mx-auto px-9 md:px-10">
    <div class="hb-banner_wrapper">
      <div class="hb-banner_grid--item video_show_right_side video_show_right_side_mobile flex flex-wrap items-center">
        <div class="hb-banner_alpha w-full md:w-1/2 relative">
          <span class="small-hide hidden md:inline">
            <div
              class="hb-banner_image deskop--image relative aspect-square rounded-tr-3xl rounded-br-3xl overflow-hidden"
              data-acsb-overflower="true"
            >
              <img
                src="{{ section.settings.desktop_image | image_url }}"
                alt="{{ section.settings.desktop_image.alt | default: section.settings.heading }}"
                class="absolute inset-0 w-full h-full object-cover"
                loading="lazy"
                width="{{ section.settings.desktop_image.width | default: 800 }}"
                height="{{ section.settings.desktop_image.height | default: 800 }}"
              >
            </div>
          </span>
          <span class="large-up-hide inline md:hidden" data-acsb-hidden="true">
            <div class="hb-banner_image mob--image relative aspect-[4/3] rounded-tl-3xl overflow-hidden">
              <img
                src="{{ section.settings.mobile_image | image_url }}"
                alt="{{ section.settings.mobile_image.alt | default: section.settings.heading }}"
                class="absolute inset-0 w-full h-full object-cover"
                loading="lazy"
                width="{{ section.settings.mobile_image.width | default: 600 }}"
                height="{{ section.settings.mobile_image.height | default: 450 }}"
              >
            </div>
          </span>
          <div class="hb-banner_contents absolute bottom-0 left-1/2 w-full transform -translate-x-1/2 p-5 pb-8 text-neutral-50 z-10">
            <h2
              class="hb-banner_title font-medium text-4xl md:text-5xl lg:text-6xl xl:text-8xl leading-tight tracking-tight mb-4"
              role="heading"
              aria-level="1"
            >
              {{ section.settings.heading | default: 'Limited Edition' }}
            </h2>
            <div class="hb-banner_text mb-6">
              <p
                role="heading"
                data-acsb-fake-title="true"
                aria-level="2"
                class="font-light md:font-medium text-xl md:text-2xl leading-tight tracking-tight m-0 block md:inline max-w-xs md:max-w-none"
              >
                {{ section.settings.subheading | default: 'Introducing Mouth Tape in Blanc and Uniform' }}
              </p>
            </div>
            {% if section.settings.button_text != blank %}
              <a
                href="{{ section.settings.button_link | default: '#' }}"
                class="hb-banner_button cta cta-gig-secondary inline-block font-medium text-base leading-normal tracking-tight text-gray-800 uppercase no-underline bg-neutral-50 rounded-full py-3 px-6 border-none"
                data-acsb-clickable="true"
                data-acsb-navigable="true"
                data-acsb-now-navigable="true"
                data-custom-button-processed="true"
                aria-label="{{ section.settings.button_text }} | {{ section.settings.heading }}"
              >
                {{- section.settings.button_text | default: 'Shop now' -}}
              </a>
            {% endif %}
          </div>
        </div>

        <div class="hb-banner_beta w-full md:w-1/2 relative">
          <span class="small-hide hidden md:inline">
            <div
              class="hb-banner__video relative aspect-square rounded-tl-3xl rounded-bl-3xl overflow-hidden"
              data-acsb-overflower="true"
            >
              {% if section.settings.desktop_video != blank %}
                <video
                  playsinline="true"
                  autoplay="autoplay"
                  muted="muted"
                  loop="loop"
                  preload="metadata"
                  poster="{{ section.settings.video_poster | image_url }}"
                  class="absolute inset-0 w-full h-full object-cover"
                >
                  {% comment %} Try MP4 source first {% endcomment %}
                  {% for source in section.settings.desktop_video.sources %}
                    {% if source.format == 'mp4' %}
                      <source src="{{ source.url }}" type="video/mp4" data-acsb-hidden="true">
                    {% endif %}
                  {% endfor %}
                  {% comment %} Fallback to any available source {% endcomment %}
                  {% unless section.settings.desktop_video.sources contains 'mp4' %}
                    <source
                      src="{{ section.settings.desktop_video.sources[0].url }}"
                      type="{{ section.settings.desktop_video.sources[0].mime_type | default: 'video/mp4' }}"
                      data-acsb-hidden="true"
                    >
                  {% endunless %}
                  <img
                    src="{{ section.settings.video_poster | image_url }}"
                    data-acsb-hidden="true"
                    aria-hidden="true"
                    class="absolute inset-0 w-full h-full object-cover"
                    loading="lazy"
                    width="{{ section.settings.video_poster.width | default: 800 }}"
                    height="{{ section.settings.video_poster.height | default: 800 }}"
                  >
                </video>
              {% elsif section.settings.video_url != blank %}
                <video
                  playsinline="true"
                  autoplay="autoplay"
                  muted="muted"
                  loop="loop"
                  preload="metadata"
                  poster="{{ section.settings.video_poster | image_url }}"
                  class="absolute inset-0 w-full h-full object-cover"
                >
                  <source
                    src="{{ section.settings.video_url }}"
                    type="video/mp4"
                    data-acsb-hidden="true"
                  >
                  <img
                    src="{{ section.settings.video_poster | image_url }}"
                    data-acsb-hidden="true"
                    aria-hidden="true"
                    class="absolute inset-0 w-full h-full object-cover"
                    loading="lazy"
                    width="{{ section.settings.video_poster.width | default: 800 }}"
                    height="{{ section.settings.video_poster.height | default: 800 }}"
                  >
                </video>
              {% else %}
                <img
                  src="{{ section.settings.fallback_image | image_url }}"
                  alt="{{ section.settings.fallback_image.alt | default: section.settings.heading }}"
                  class="absolute inset-0 w-full h-full object-cover"
                  loading="lazy"
                  width="{{ section.settings.fallback_image.width | default: 800 }}"
                  height="{{ section.settings.fallback_image.height | default: 800 }}"
                >
              {% endif %}
            </div>
          </span>
          <span class="large-up-hide inline md:hidden" data-acsb-hidden="true">
            <div class="hb-banner__video relative aspect-[4/3] rounded-b-2xl top-0 z-10">
              {% if section.settings.mobile_video != blank %}
                <video
                  playsinline="true"
                  autoplay="autoplay"
                  muted="muted"
                  loop="loop"
                  preload="metadata"
                  poster="{{ section.settings.mobile_video_poster | image_url }}"
                  class="absolute inset-0 w-full h-full object-cover"
                >
                  {% comment %} Try MP4 source first {% endcomment %}
                  {% for source in section.settings.mobile_video.sources %}
                    {% if source.format == 'mp4' %}
                      <source src="{{ source.url }}" type="video/mp4">
                    {% endif %}
                  {% endfor %}
                  {% comment %} Fallback to any available source {% endcomment %}
                  {% unless section.settings.mobile_video.sources contains 'mp4' %}
                    <source
                      src="{{ section.settings.mobile_video.sources[0].url }}"
                      type="{{ section.settings.mobile_video.sources[0].mime_type | default: 'video/mp4' }}"
                    >
                  {% endunless %}
                  <img
                    src="{{ section.settings.mobile_video_poster | image_url }}"
                    class="absolute inset-0 w-full h-full object-cover"
                    loading="lazy"
                    width="{{ section.settings.mobile_video_poster.width | default: 600 }}"
                    height="{{ section.settings.mobile_video_poster.height | default: 450 }}"
                  >
                </video>
              {% elsif section.settings.mobile_video_url != blank %}
                <video
                  playsinline="true"
                  autoplay="autoplay"
                  muted="muted"
                  loop="loop"
                  preload="metadata"
                  poster="{{ section.settings.mobile_video_poster | image_url }}"
                  class="absolute inset-0 w-full h-full object-cover"
                >
                  <source
                    src="{{ section.settings.mobile_video_url }}"
                    type="video/mp4"
                  >
                  <img
                    src="{{ section.settings.mobile_video_poster | image_url }}"
                    class="absolute inset-0 w-full h-full object-cover"
                    loading="lazy"
                    width="{{ section.settings.mobile_video_poster.width | default: 600 }}"
                    height="{{ section.settings.mobile_video_poster.height | default: 450 }}"
                  >
                </video>
              {% else %}
                <img
                  src="{{ section.settings.mobile_fallback_image | image_url }}"
                  alt="{{ section.settings.mobile_fallback_image.alt | default: section.settings.heading }}"
                  class="absolute inset-0 w-full h-full object-cover"
                  loading="lazy"
                  width="{{ section.settings.mobile_fallback_image.width | default: 600 }}"
                  height="{{ section.settings.mobile_fallback_image.height | default: 450 }}"
                >
              {% endif %}
            </div>
          </span>
          {% if section.settings.product_link != blank %}
            <a
              href="{{ section.settings.product_link }}"
              class="hb-banner__product--info absolute right-8 bottom-10 max-w-sm flex flex-col gap-4 text-gray-800"
              data-acsb-clickable="true"
              data-acsb-navigable="true"
              data-custom-button-processed="true"
              aria-label="View product details"
            >
              {% if section.settings.product_image != blank %}
                <div class="hb-banner__product--Image">
                  <img
                    src="{{ section.settings.product_image | image_url }}"
                    alt="{{ section.settings.product_image.alt | default: 'Product' }}"
                    loading="lazy"
                    width="{{ section.settings.product_image.width | default: 150 }}"
                    height="{{ section.settings.product_image.height | default: 150 }}"
                  >
                </div>
              {% endif %}
              {% if section.settings.product_button_text != blank %}
                <span class="hb-banner__product--button">
                  {{ section.settings.product_button_text }}
                </span>
              {% endif %}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Hero Video Banner",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Limited Edition"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Introducing Mouth Tape in Blanc and Uniform"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Desktop Media Settings"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Image"
    },
    {
      "type": "video",
      "id": "desktop_video",
      "label": "Desktop Video (Upload)",
      "info": "Upload MP4 video for desktop. This takes priority over Video URL."
    },
    {
      "type": "text",
      "id": "video_url",
      "label": "Desktop Video URL (Fallback)",
      "info": "MP4 video URL - used if no video is uploaded above"
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Desktop Video Poster Image"
    },
    {
      "type": "image_picker",
      "id": "fallback_image",
      "label": "Desktop Fallback Image",
      "info": "Displayed if no video is provided"
    },
    {
      "type": "header",
      "content": "Mobile Media Settings"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Image"
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "Mobile Video (Upload)",
      "info": "Upload MP4 video for mobile. This takes priority over Video URL."
    },
    {
      "type": "text",
      "id": "mobile_video_url",
      "label": "Mobile Video URL (Fallback)",
      "info": "MP4 video URL - used if no video is uploaded above"
    },
    {
      "type": "image_picker",
      "id": "mobile_video_poster",
      "label": "Mobile Video Poster Image"
    },
    {
      "type": "image_picker",
      "id": "mobile_fallback_image",
      "label": "Mobile Fallback Image",
      "info": "Displayed if no mobile video is provided"
    },
    {
      "type": "header",
      "content": "Product Info (Optional)"
    },
    {
      "type": "url",
      "id": "product_link",
      "label": "Product Link",
      "info": "Link to product page"
    },
    {
      "type": "image_picker",
      "id": "product_image",
      "label": "Product Image"
    },
    {
      "type": "text",
      "id": "product_button_text",
      "label": "Product Button Text"
    }
  ],
  "presets": [
    {
      "name": "Hero Video Banner",
      "settings": {
        "heading": "Limited Edition",
        "subheading": "Introducing Mouth Tape in Blanc and Uniform",
        "button_text": "Shop now"
      }
    }
  ]
}
{% endschema %}
