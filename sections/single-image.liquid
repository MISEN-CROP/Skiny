<div>
  <div class="page-container">
    {% if section.settings.image or section.settings.title != blank or section.settings.subtitle != blank %}
      <section class="single-image-section relative w-full overflow-hidden rounded-xl">
        <!-- Background Image Container -->
        <div class="relative w-full min-h-[50vh] flex items-center justify-center">
          {% if section.settings.image %}
            <img
              src="{{ section.settings.image | image_url: width: 1920 }}"
              srcset="
                {{ section.settings.image | image_url: width: 768 }} 768w,
                {{ section.settings.image | image_url: width: 1024 }} 1024w,
                {{ section.settings.image | image_url: width: 1366 }} 1366w,
                {{ section.settings.image | image_url: width: 1920 }} 1920w,
                {{ section.settings.image | image_url: width: 2560 }} 2560w
              "
              sizes="100vw"
              alt="{{ section.settings.image.alt | default: section.settings.title | default: 'Hero Image' }}"
              class="absolute inset-0 w-full h-full object-cover"
              loading="eager"
            >
          {% else %}
            <!-- Fallback background -->
            <div class="absolute inset-0 w-full h-full bg-gradient-to-br from-stone-100 to-stone-200"></div>
          {% endif %}

          <!-- Overlay -->
          {% if section.settings.overlay_opacity > 0 %}
            <div
              class="absolute inset-0 bg-black"
              style="opacity: {{ section.settings.overlay_opacity | times: 0.01 }};"
            ></div>
          {% endif %}

          <!-- Content Overlay -->
          <div class="relative z-10 text-center px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto">
            {% if section.settings.title != blank %}
              <h1
                class="text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight mb-4 lg:mb-6"
                style="color: {{ section.settings.text_color | default: '#ffffff' }};"
              >
                {{ section.settings.title }}
              </h1>
            {% endif %}

            {% if section.settings.subtitle != blank %}
              <p
                class="text-lg sm:text-xl lg:text-2xl font-medium"
                style="color: {{ section.settings.text_color | default: '#ffffff' }};"
              >
                {{ section.settings.subtitle }}
              </p>
            {% endif %}

            {% if section.settings.button_text != blank %}
              <div class="mt-8 lg:mt-12">
                <a
                  href="{{ section.settings.button_url | default: '#' }}"
                  class="inline-block px-8 py-4 text-lg font-semibold rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-lg"
                  style="
                    background-color: {{ section.settings.button_bg_color | default: '#1B365D' }};
                    color: {{ section.settings.button_text_color | default: '#FFFDF1' }};
                  "
                >
                  {{ section.settings.button_text }}
                </a>
              </div>
            {% endif %}
          </div>

          <!-- Scroll Indicator -->
          {% if section.settings.show_scroll_indicator %}
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="{{ section.settings.text_color | default: '#ffffff' }}"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 14l-7 7m0 0l-7-7m7 7V3"
                ></path>
              </svg>
            </div>
          {% endif %}
        </div>
      </section>
    {% endif %}

    {% schema %}
{
  "name": "Single Image",
  "tag": "section",
  "class": "single-image-section",
  "settings": [
    {
      "type": "header",
      "content": "Image Settings"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Background Image",
      "info": "Recommended size: 1920x1080px or larger"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "unit": "%",
      "label": "Overlay Opacity",
      "default": 30,
      "info": "Dark overlay to improve text readability"
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "placeholder": "Discover The Skinny Confidential with our founder"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "placeholder": "Lauryn Bosstick"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "placeholder": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#1B365D"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFDF1"
    },
    {
      "type": "header",
      "content": "Additional Settings"
    },
    {
      "type": "checkbox",
      "id": "show_scroll_indicator",
      "label": "Show Scroll Indicator",
      "default": true,
      "info": "Display animated arrow at bottom"
    },
    {
      "type": "select",
      "id": "section_height",
      "label": "Section Height",
      "options": [
        {
          "value": "h-screen",
          "label": "Full Screen"
        },
        {
          "value": "h-[80vh]",
          "label": "80% Screen"
        },
        {
          "value": "h-[60vh]",
          "label": "60% Screen"
        },
        {
          "value": "h-96",
          "label": "Fixed Height"
        }
      ],
      "default": "h-screen"
    }
  ],
  "presets": [
    {
      "name": "Single Image",
      "settings": {
        "title": "Discover The Skinny Confidential with our founder",
        "subtitle": "Lauryn Bosstick",
        "text_color": "#ffffff",
        "overlay_opacity": 30,
        "show_scroll_indicator": true,
        "section_height": "h-screen"
      }
    }
  ]
}
    {% endschema %}
  </div>
</div>
